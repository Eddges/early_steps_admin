<!DOCTYPE html>
<html class="no-js css-menubar" lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
  <meta name="description" content="Best Coding Bootcamp in India">
  <meta name="author" content="CodeAsylums">

  <title>Early Steps Admin</title>
  <link rel="apple-touch-icon" href="../../assets/images/EarlyStepsLogo.webp">
  <link rel="shortcut icon" href="../../assets/images/EarlyStepsLogo.webp">
  <!-- Stylesheets -->
  <link rel="stylesheet" href="../../global/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../global/css/bootstrap-extend.min.css">
  <link rel="stylesheet" href="../../global/css/styles.css">
  <link rel="stylesheet" href="../assets/css/site.min.css">

  <!-- Plugins -->
  <link rel="stylesheet" href="../../global/vendor/animsition/animsition.css">
  <link rel="stylesheet" href="../../global/vendor/asscrollable/asScrollable.css">
  <link rel="stylesheet" href="../../global/vendor/switchery/switchery.css">
  <link rel="stylesheet" href="../../global/vendor/intro-js/introjs.css">
  <link rel="stylesheet" href="../../global/vendor/slidepanel/slidePanel.css">
  <link rel="stylesheet" href="../../global/vendor/flag-icon-css/flag-icon.css">
  <link rel="stylesheet" href="../../global/vendor/chartist/chartist.css">
  <link rel="stylesheet" href="../../global/vendor/jvectormap/jquery-jvectormap.css">
  <!-- <link rel="stylesheet" href="../../global/vendor/chartist-plugin-tooltip/chartist-plugin-tooltip.css"> -->
  <link rel="stylesheet" href="../assets/examples/css/dashboard/v1.css">
  <link rel="stylesheet" href="../../assets/examples/css/dashboard/team.css">
  <link rel="stylesheet" href="../../assets/examples/css/uikit/modals.css">
  <link rel="stylesheet" href="../../../global/vendor/footable/footable.core.css">
  <link rel="stylesheet" href="../../assets/examples/css/tables/footable.css">

  <!-- Fonts -->
  <link rel="stylesheet" href="../../global/fonts/weather-icons/weather-icons.css">
  <link rel="stylesheet" href="../../global/fonts/web-icons/web-icons.min.css">
  <link rel="stylesheet" href="../../global/fonts/brand-icons/brand-icons.min.css">
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,300italic'>

  <!--[if lt IE 9]>
    <script src="../../global/vendor/html5shiv/html5shiv.min.js"></script>
    <![endif]-->

  <!--[if lt IE 10]>
    <script src="../../global/vendor/media-match/media.match.min.js"></script>
    <script src="../../global/vendor/respond/respond.min.js"></script>
    <![endif]-->

  <!-- Scripts -->
  <script src="../../global/vendor/breakpoints/breakpoints.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.5.0/js/md5.min.js"></script>
  <script>
    Breakpoints();
  </script>
</head>

<body class="animsition dashboard">
  <!--[if lt IE 8]>
        <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

  <nav class=" navbar navbar-default navbar-fixed-top navbar-mega" role="navigation">

    <div class="navbar-header">
      <button type="button" class="navbar-toggler hamburger hamburger-close navbar-toggler-left hided"
        data-toggle="menubar">
        <span class="sr-only">Toggle navigation</span>
        <span class="hamburger-bar"></span>
      </button>
      <button type="button" class="navbar-toggler collapsed" data-target="#site-navbar-collapse" data-toggle="collapse">
        <i class="icon wb-more-horizontal" aria-hidden="true"></i>
      </button>
      <div class="navbar-brand navbar-brand-center site-gridmenu-toggle active" aria-expanded="true">
        <a href="./bootcamps" style="color:black"><img class="navbar-brand-logo" src="../../assets/images/EarlyStepsLogo.webp"
            alt="...">
          </a>
      </div>

    </div>

    <div class="navbar-container container-fluid">
      <!-- Navbar Collapse -->
      <div class="collapse navbar-collapse navbar-collapse-toolbar" id="site-navbar-collapse">
        <!-- Navbar Toolbar -->
        <ul class="nav navbar-toolbar">
          <li class="nav-item hidden-float" id="toggleMenubar">
            <a class="nav-link" data-toggle="menubar" href="#" role="button">
              <i class="icon hamburger hamburger-arrow-left">
                <span class="sr-only">Toggle menubar</span>
                <span class="hamburger-bar"></span>
              </i>
            </a>
          </li>

        </ul>
        <!-- End Navbar Toolbar -->

        <!-- Navbar Toolbar Right -->
        <ul class="nav navbar-toolbar navbar-right navbar-toolbar-right">

          <li class="nav-item dropdown">
            <a class="nav-link navbar-avatar" data-toggle="dropdown" href="#" aria-expanded="false"
              data-animation="scale-up" role="button">
              <span class="avatar avatar-online">
                <img id="photoimg" src="../../assets/images/user.svg" alt="..."" alt="...">
                <i></i>
              </span>
            </a>
            <div class="dropdown-menu" role="menu">

              <a class="dropdown-item" href="./admin_login" onclick="logout();" role="menuitem"><i class="icon wb-power"
                  aria-hidden="true"></i> Logout</a>
            </div>
          </li>

        </ul>
        <!-- End Navbar Toolbar Right -->
      </div>
      <!-- End Navbar Collapse -->

      <!-- Site Navbar Seach -->
      <div class="collapse navbar-search-overlap" id="site-navbar-search">
        <form role="search">
          <div class="form-group">
            <div class="input-search">
              <i class="input-search-icon wb-search" aria-hidden="true"></i>
              <input type="text" class="form-control" name="site-search" placeholder="Search...">
              <button type="button" class="input-search-close icon wb-close" data-target="#site-navbar-search"
                data-toggle="collapse" aria-label="Close"></button>
            </div>
          </div>
        </form>
      </div>
      <!-- End Site Navbar Seach -->
    </div>
  </nav>
  <div class="site-menubar">
    <div class="site-menubar-body scrollable scrollable-inverse is-enabled scrollable-vertical hoverscorll-disabled"
      style="position: relative;">
      <div class="scrollable-container" style="height: 401.984px; width: 260px;">
        <div class="scrollable-content" style="width: 260px;">
          <ul class="site-menu" data-plugin="menu" style="transform: translate3d(0px, 0px, 0px);">
            <li class="site-menu-category">Admin</li>
            <li class="site-menu-item has-sub">
                <a href="/classes">
                    <i class="site-menu-icon wb-calendar" aria-hidden="true"></i>
                    <span class="site-menu-title">Add Live Session</span>
                    <span class="site-menu-arrow"></span>
                </a>
            </li>

            <li class="site-menu-item has-sub active">
                <a href="/assignments">
                    <i class="site-menu-icon wb-clipboard" aria-hidden="true"></i>
                    <span class="site-menu-title">Assignments</span>
                    <span class="site-menu-arrow"></span>
                </a>
            </li>

            <li class="site-menu-item has-sub">
                <a href="/admin_courseUpdate">
                    <i class="site-menu-icon wb-upload" aria-hidden="true"></i>
                    <span class="site-menu-title">Course Update</span>
                    <span class="site-menu-arrow"></span>
                </a>
            </li>

            <li class="site-menu-item has-sub">
                <a href="/feedbacks">
                    <i class="site-menu-icon wb-chat" aria-hidden="true"></i>
                    <span class="site-menu-title">Feedbacks</span>
                    <span class="site-menu-arrow"></span>
                </a>
            </li>

            <li class="site-menu-item has-sub ">
                <a href="/view_feedback">
                    <i class="site-menu-icon wb-order" aria-hidden="true"></i>
                    <span class="site-menu-title">View Feedbacks</span>
                    <span class="site-menu-arrow"></span>
                </a>
            </li>

            <li class="site-menu-item has-sub">
                <a href="/admin_progress">
                    <i class="site-menu-icon wb-graph-up    " aria-hidden="true"></i>
                    <span class="site-menu-title">Progress</span>
                    <span class="site-menu-arrow"></span>
                </a>
            </li>

            <li class="site-menu-item has-sub">
                <a href="/view_progress">
                    <i class="site-menu-icon wb-graph-up    " aria-hidden="true"></i>
                    <span class="site-menu-title">View Progress</span>
                    <span class="site-menu-arrow"></span>
                </a>
            </li>                        

            <li class="site-menu-item has-sub">
                <a href="/admin_findUser">
                    <i class="site-menu-icon wb-user" aria-hidden="true"></i>
                    <span class="site-menu-title">Find User</span>
                    <span class="site-menu-arrow"></span>
                </a>
            </li>

            <li class="site-menu-item has-sub">
                <a href="/view_users">
                    <i class="site-menu-icon wb-user" aria-hidden="true"></i>
                    <span class="site-menu-title">View Users</span>
                    <span class="site-menu-arrow"></span>
                </a>
            </li>            
          </ul>
        </div>
      </div>





    </div>
    <!-- <div class="site-menubar-footer">
      <button type="button" class="btn btn-info" data-target="#exampleFormModal" data-toggle="modal"
        style="width: inherit;"><i class="icon wb-chat" aria-hidden="true"></i> Submit Feedback</button>
    </div> -->

  </div>
  </div>

  <!-- Page -->
  <div class="page background">
    <div class="page-content container-fluid">

      <!-- alert message -->
      <div class="alert dark alert-info alert-dismissible animation-slide-top " id="processing-div" style="display:none"
        role="alert">
        <button type="button" class="close" onClick="hidemepro()" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
        <div id="message-processing"></div>
      </div>
      <!-- End alert message -->


      <!-- alert message -->
      <div class="alert dark alert-danger alert-dismissible animation-slide-top " id="alert-message-div"
        style="display:none" role="alert">
        <button type="button" class="close" onClick="hideme()" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
        <div id="message-div"></div>
      </div>
      <!-- End alert message -->


      <!-- alert message -->
      <div class="alert dark alert-success alert-dismissible animation-slide-top " id="info-message-div"
        style="display:none" role="alert">
        <button type="button" class="close" onClick="hidemeinfo()" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
        <div id="message-div-info"></div>
      </div>
      <!-- End alert message -->



               
      <!-- -------------Main Section---------------- -->
        

      <!-- Grr -->

      
      <h2 class="display-5" id="assignmentName"></h2>
      <br />
      <p id="assignmentDescription"></p>

      <div id='divEmbedVideo'></div>

      <div class="container" id="assignment-list"></div>

      <hr class='my-4'/>

      <div id="objectiveDisplay"></div>

      <hr class="my-2" />

      <div id="writtenDisplay"></div>
      
      <hr class="my-2" />
      
      <div id='videoDisplay'></div>



    </div>
  </div>
  <!-- End Page -->
  <div class="modal fade" id="exampleFormModal" aria-labelledby="exampleFormModalLabel" role="dialog" tabindex="-1"
    aria-hidden="true" style="display: none;">
    <div class="modal-dialog modal-simple modal-center" style="z-index:20000;">
      <form class="modal-content" style="z-index:20000;">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
          <h4 class="modal-title" id="exampleFormModalLabel">Send us some feedback!</h4>
        </div>
        <div class="modal-body">
          <div class="row">

            <div class="col-xl-12 form-group">
              <textarea class="form-control" rows="5" placeholder="Describe your issue or idea.."
                id="userFeedback_text"></textarea>
              <div class="radio-custom radio-primary">
                <input type="radio" id="radio_feedback_type1" name="inputRadios">
                <label for="inputRadiosUnchecked" id="feedback_type1">Bug</label>
              </div>
              <div class="radio-custom radio-primary">
                <input type="radio" id="radio_feedback_type2" name="inputRadios">
                <label for="inputRadiosUnchecked" id="feedback_type2">Improvement</label>
              </div>
              <div class="radio-custom radio-primary">
                <input type="radio" id="radio_feedback_type3" name="inputRadios">
                <label for="inputRadiosUnchecked" id="feedback_type3">Comment</label>
              </div>
            </div>

            <div class="col-md-12 float-right">
              <button class="btn btn-primary btn-outline" data-dismiss="modal" type="button"
                onclick="userFeedback()">Send Feedback</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
  <!-- mentor feedback modal-->
  <div class="modal fade" id="MentorFormModal" aria-labelledby="MentorFormModalLabel" role="dialog" tabindex="-1"
    aria-hidden="true" style="display: none;">
    <div class="modal-dialog modal-simple modal-center" style="z-index:20000;">
      <form id="mentorform" class="modal-content" style="z-index:20000;">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
          <h4 class="modal-title" id="MentorFormModalLabel">Assign an assignment</h4>
        </div>
        <div class="modal-body">
          <div class="row">

            <div class="col-xl-12 form-group">
              <!-- <textarea class="form-control" rows="5" placeholder="Describe your issue or idea.." id="mentorFeedback_text"></textarea> -->
              <!-- <br/> -->
              <label for="mentorvalue">Assignment name</label>
              <input class="form-control" placeholder="Assignment name" id="mentorvalue">
              <br />
              <label for="classvalue">Class name</label>
              <input class="form-control" placeholder="class name" id="classvalue">
            </div>

            <div class="col-md-12 float-right">
              <button class="btn btn-primary btn-outline" data-dismiss="modal" type="button"
                onclick="mentorFeedback()">Send Feedback</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>


  <!-- Footer -->
  <footer class="site-footer">
    <div class="site-footer-legal">© Early Steps</div>
</footer>
  <!-- Core  -->
  <script src="../../global/vendor/babel-external-helpers/babel-external-helpers.js"></script>
  <script src="../../global/vendor/jquery/jquery.js"></script>
  <script src="../../global/vendor/popper-js/umd/popper.min.js"></script>
  <script src="../../global/vendor/bootstrap/bootstrap.js"></script>
  <script src="../../global/vendor/animsition/animsition.js"></script>
  <script src="../../global/vendor/mousewheel/jquery.mousewheel.js"></script>
  <script src="../../global/vendor/asscrollbar/jquery-asScrollbar.js"></script>
  <script src="../../global/vendor/asscrollable/jquery-asScrollable.js"></script>
  <script src="../../global/vendor/ashoverscroll/jquery-asHoverScroll.js"></script>

  <!-- Plugins -->
  <script src="../../global/vendor/switchery/switchery.js"></script>
  <script src="../../global/vendor/intro-js/intro.js"></script>
  <script src="../../global/vendor/screenfull/screenfull.js"></script>
  <script src="../../global/vendor/slidepanel/jquery-slidePanel.js"></script>
  <script src="../../global/vendor/skycons/skycons.js"></script>
  <script src="../../global/vendor/chartist/chartist.min.js"></script>
  <!-- <script src="../../global/vendor/chartist-plugin-tooltip/chartist-plugin-tooltip.js"></script> -->
  <!-- <script src="../../global/vendor/aspieprogress/jquery-asPieProgress.min.js"></script> -->
  <script src="../../global/vendor/jvectormap/jquery-jvectormap.min.js"></script>
  <script src="../../global/vendor/jvectormap/maps/jquery-jvectormap-au-mill-en.js"></script>
  <script src="../../global/vendor/matchheight/jquery.matchHeight-min.js"></script>

  <!-- Scripts -->
  <script src="../../global/js/Component.js"></script>
  <script src="../../global/js/Plugin.js"></script>
  <script src="../../global/js/Base.js"></script>
  <script src="../../global/js/Config.js"></script>

  <script src="../assets/js/Section/Menubar.js"></script>
  <script src="../assets/js/Section/GridMenu.js"></script>
  <script src="../assets/js/Section/Sidebar.js"></script>
  <script src="../assets/js/Section/PageAside.js"></script>
  <script src="../assets/js/Plugin/menu.js"></script>

  <script src="../../global/js/config/colors.js"></script>
  <script src="../assets/js/config/tour.js"></script>
  <script>Config.set('assets', '../assets');</script>

  <!-- Page -->
  <script src="../assets/js/Site.js"></script>
  <script src="../../global/js/Plugin/asscrollable.js"></script>
  <script src="../../global/js/Plugin/slidepanel.js"></script>
  <script src="../../global/js/Plugin/switchery.js"></script>
  <script src="../../global/js/Plugin/matchheight.js"></script>
  <script src="../../global/js/Plugin/jvectormap.js"></script>

  <script src="../assets/examples/js/dashboard/v1.js"></script>


  <!-- <script src="../../assets/examples/js/tables/footable.js"></script> -->
  <script>

    // var url = 'https://early-steps.herokuapp.com';
    var url = 'http://earlysteps-env-2.eba-7ipamjqn.us-west-2.elasticbeanstalk.com'
    let btnindex = "";
    function hideme() {
      document.getElementById('alert-message-div').style.display = "none";
    }

    function hidemeinfo() {
      document.getElementById('info-message-div').style.display = "none";
    }

    function hidemepro() {
      document.getElementById('processing-div').style.display = "none";
    }

    function searchAll() {
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("searchbar");
      filter = input.value.toUpperCase();
      table = document.getElementById("newRow");
      tr = table.getElementsByTagName("tr");
      for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[1];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }
      }
    }


    if (sessionStorage.getItem("loggedCA") === md5("true")) {

    }
    else {
      window.location.href = "./admin_login";
    }

    
    function changeData() {
      $("#newRow").empty()
    }

    function enterportal(key){
        window.location.href = `/create`;
    }

    function logout() {
      sessionStorage.clear();
      window.reload();
    }
    function userFeedback() {
      window.scrollTo(0, 0);
      let user_idValue = sessionStorage.getItem("user_id");
      let userFeedback_textValue = document.getElementById("userFeedback_text").value;
      let userFeedback_type;
      let date = new Date();

      if (document.getElementById("radio_feedback_type1").checked)
        userFeedback_type = document.getElementById("feedback_type1").innerHTML;
      else if (document.getElementById("radio_feedback_type2").checked)
        userFeedback_type = document.getElementById("feedback_type2").innerHTML;
      else if (document.getElementById("radio_feedback_type3").checked)
        userFeedback_type = document.getElementById("feedback_type3").innerHTML;

      document.getElementById('processing-div').style.display = "block";
      document.getElementById('message-processing').innerHTML = "Processing...";

      axios.post(url + '/doFeedback', {
        user_id: user_idValue,
        feedback_details: userFeedback_textValue + "~" + date,
        feedback_type: userFeedback_type
      })
        .then(function (response) {
          document.getElementById('processing-div').style.display = "none";
          document.getElementById('info-message-div').style.display = "block";
          document.getElementById('message-div-info').innerHTML = "Feedback submitted successfully!";

          console.log(response);
        })
        .catch(function (error) {
          document.getElementById('processing-div').style.display = "none";
          document.getElementById('alert-message-div').style.display = "block";
          document.getElementById('message-div').innerHTML = "Something went wrong, Please try again!";
          console.log(error);
        });
    }



        // Displaying Assignments grr

        const divAssignmentList = document.querySelector('#assignment-list')
            const moduleId = +document.URL.split('/')[document.URL.split('/').length -2]
            const assignmentId = +document.URL.split('/')[document.URL.split('/').length -1]

            const objectiveDisplay = document.querySelector('#objectiveDisplay')
            const writtenDisplay = document.querySelector('#writtenDisplay')
            const videoDisplay = document.querySelector('#videoDisplay')
            
            let aText = []

            const assignmentName = document.querySelector('#assignmentName')
            const assignmentDescription = document.querySelector('#assignmentDescription')

            console.log('https://early-steps.herokuapp.com/getAssignment/' + assignmentId)
            
            axios.get(url + '/getAssignment/' + assignmentId)
            .then(res => {
                console.log('Assignment data', res.data)
                assignmentName.innerHTML = res.data.assignment_name
                assignmentDescription.innerHTML = res.data.assignment_desc
                // aText = JSON.parse(res.data.assignment_content_text)

                if(res.data.assignment_embed_link) {
                  document.querySelector('#divEmbedVideo').innerHTML = res.data.assignment_embed_link
                }

                JSON.parse(res.data.assignment_content_text).map((iterator, index) => {
                    if(iterator){
                      writtenDisplay.innerHTML += `
                        <br/>
                        ${iterator.assetURL && `<img src=${iterator.assetURL} style='width : 300px;' alt='Question image'/>` }
                        <h4 id='${iterator.questionId}'>Q ${index + 1}. ${iterator.question}</h4> 
                    `
                    }
                    
                })
                console.log('Video parse ', JSON.parse(res.data.assignment_content_video))
                if(Object.keys(JSON.parse(res.data.assignment_content_video)).length !== 0) {
                  console.log('Video true, assetURL : ', res.data.assignment_content_video)
                  videoDisplay.innerHTML = `
                    <br/>
                    ${JSON.parse(res.data.assignment_content_video).assetURL && `<img src=${JSON.parse(res.data.assignment_content_video).assetURL} style='width : 300px;' alt='Question image'/>` }
                    <h4 id='${JSON.parse(res.data.assignment_content_video).videoId}'>Q. ${JSON.parse(res.data.assignment_content_video).question}</h4> 
                `
                }
                
                JSON.parse(res.data.assignment_content_mcq).map((iterator, index) => {
                  if(iterator.assetURL) {
                    objectiveDisplay.innerHTML += `
                        <img src='${iterator.assetURL}' alt='${iterator.assetURL}' />
                        <h4 id='${iterator.questionId}'>Q ${index + 1}. ${iterator.question}</h4> 
                        <br/>
                    `
                  }

                  else{
                    objectiveDisplay.innerHTML += `
                        <h4 id='${iterator.questionId}'>Q ${index + 1}. ${iterator.question}</h4> 
                        <br/>
                    `
                  }
                    
                    iterator.options.map((itr, ind) => {
                        objectiveDisplay.innerHTML += `
                        <p id='${itr.questionId}'>${ind + 1}) ${itr.text}</p> 
                    `
                    })
                })
            })


            // axios.get('https://early-steps.herokuapp.com/getAssignmentAllSubmission/' + '3')
            // .then(res => {
            //     console.log('All submissions on 7 : ', res.data)
            // })


  </script>
  <style>
    @media (max-width: 550px) {
      .background {
        width: 145%
      }
    }
  </style>
</body>

</html>